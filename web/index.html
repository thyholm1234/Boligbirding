<!-- Version: 1.3.3 - 2026-01-03 22.48.04 -->
<!-- © Christian Vemmelund Helligsø -->
<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boligbirding</title>
  <!-- PWA: manifest + tema -->
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#2b7a78" />
  <!-- (valgfrit) ikon-link til desktop/iOS osv. -->
  <link rel="icon" href="/icons/icon-192.png" sizes="192x192">
  <link rel="stylesheet" href="style.css?v=1.3.3">
</head>
<body>
<nav class="navbar">
    <span class="navbar-title">#BB26</span>
    <div style="display:flex;align-items:center;gap:18px;">
        <!-- Krydslister dropdown -->
        <div class="dropdown">
            <a id="krydsDropdownBtn" href="#" class="nav-link">Krydslister</a>
            <div id="krydsDropdown" class="dropdown-content">
                <a href="scoreboard.html?scope=global_alle">Danmark</a>
                <div id="krydsLinks"></div>
            </div>
        </div>
        <!-- Matrikellister dropdown -->
        <div class="dropdown">
            <a id="matrikelDropdownBtn" href="#" class="nav-link">Matrikellister</a>
            <div id="matrikelDropdown" class="dropdown-content">
                <a href="scoreboard.html?scope=global_matrikel">Danmark</a>
                <div id="matrikelLinks"></div>
            </div>
        </div>
        <a href="#" id="reglerLink" class="regler-link nav-link">REGLER</a>
        <a href="#" class="regler-link nav-link" style="margin-right: 15px;" id="themeToggle" aria-label="Skift tema">TEMA</a>
    </div>
</nav>
    <div id="chart-container" style="max-width:900px;margin-bottom:2em;">
        <canvas id="leaderChart"></canvas>
    </div>
    <div id="result"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js?v=1.3.3"></script>
    <script src="app.js?v=1.3.3"></script>
    <script>
        // Registrér service worker når siden er loadet
        if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('/sw.js?v=1.3.3' /*, { scope: '/' } */)
            .then(reg => console.log('Service Worker registreret:', reg.scope))
            .catch(err => console.error('SW registrering fejlede:', err));
        });
        }
    </script>
    <script>
const AFDELINGER = [
    "DOF København",
    "DOF Nordsjælland",
    "DOF Vestsjælland",
    "DOF Storstrøm",
    "DOF Bornholm",
    "DOF Fyn",
    "DOF Sønderjylland",
    "DOF Sydvestjylland",
    "DOF Sydøstjylland",
    "DOF Vestjylland",
    "DOF Østjylland",
    "DOF Nordvestjylland",
    "DOF Nordjylland"
];

// Fyld dropdowns med lokalafdelinger
const krydsLinks = document.getElementById('krydsLinks');
const matrikelLinks = document.getElementById('matrikelLinks');
AFDELINGER.forEach(afd => {
    const safe = encodeURIComponent(afd);
    krydsLinks.innerHTML += `<a href="scoreboard.html?scope=lokal_alle&afdeling=${safe}" style="display:block;padding:8px 16px;">${afd}</a>`;
    matrikelLinks.innerHTML += `<a href="scoreboard.html?scope=lokal_matrikel&afdeling=${safe}" style="display:block;padding:8px 16px;">${afd}</a>`;
});

// Dropdown vis/skjul for begge
const krydsBtn = document.getElementById('krydsDropdownBtn');
const krydsDropdown = document.getElementById('krydsDropdown');
const matrikelBtn = document.getElementById('matrikelDropdownBtn');
const matrikelDropdown = document.getElementById('matrikelDropdown');

krydsBtn.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();
    krydsDropdown.style.display = krydsDropdown.style.display === "block" ? "none" : "block";
    matrikelDropdown.style.display = "none";
};
matrikelBtn.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();
    matrikelDropdown.style.display = matrikelDropdown.style.display === "block" ? "none" : "block";
    krydsDropdown.style.display = "none";
};
document.body.onclick = function() {
    krydsDropdown.style.display = "none";
    matrikelDropdown.style.display = "none";
};
krydsDropdown.onclick = function(e) { e.stopPropagation(); };
matrikelDropdown.onclick = function(e) { e.stopPropagation(); };
    </script>
</body>
</html>